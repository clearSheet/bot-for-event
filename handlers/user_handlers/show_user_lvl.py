import asyncio
from aiogram import Router
from aiogram.types import Message

from aiogram.types import FSInputFile


router = Router()


@router.message(text='üïπ –ú–æ–π —É—Ä–æ–≤–µ–Ω—å')
async def show_rules_of_event(message: Message):
    from bot import db

    user_info1 = await db.get_one_user_info(message.from_user.id)
    user_info1 = user_info1[0]
    review1 = user_info1[7]
    user_lvl1 = user_info1[9]
    email1 = user_info1[10]
    post_path1 = user_info1[12]
    friends_count1 = user_info1[14]
    in_test_it1 = user_info1[15]
    in_teamstorm1 = user_info1[16]
    quiz_status1 = user_info1[17]

    data = await db.get_one_user_info(message.from_user.id)
    lvl = data[0][9]


    if user_lvl1 == 0:
        text_answer = '–î–ª—è –ø—Ä–æ–∫–∞—á–∫–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:\n\n' \
                      '1. –í—Å—Ç—É–ø–∏ –≤ Telegram-–∫–∞–Ω–∞–ª Test IT –∏ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ –Ω–µ–º (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–í—Å—Ç—É–ø–∏—Ç—å –≤ ' \
                      '–≥—Ä—É–ø–ø—ã¬ª)\n' \
                      '2. –ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ –Ω–µ –º–µ–Ω–µ–µ 10 –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤'
    elif user_lvl1 == 1:
        text_answer = '–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –≤—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:\n\n' \
                      '1. –í—Å—Ç—É–ø–∏ –≤ Telegram-–∫–∞–Ω–∞–ª TeamStorm –∏ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ –Ω–µ–º (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–í—Å—Ç—É–ø–∏—Ç—å ' \
                      '–≤ –≥—Ä—É–ø–ø—ã¬ª)\n' \
                      '2. –ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ –Ω–µ –º–µ–Ω–µ–µ 20 –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤'
    elif user_lvl1 == 2:
        text_answer = '–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Ç—Ä–µ—Ç–∏–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:\n\n' \
                        '1. –í—Å—Ç—É–ø–∏ –≤ Telegram-–∫–∞–Ω–∞–ª Test IT –∏ TeamStorm –∏ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ –Ω–∏—Ö (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ' \
                        '¬´–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—ã¬ª)\n' \
                        '2. –ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ –Ω–µ –º–µ–Ω–µ–µ 40 –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤\n' \
                        '3. –ü—Ä–æ–π–¥–∏ –Ω–∞—à –∫–≤–∏–∑ (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–ö–≤–∏–∑¬ª)\n' \
                        '4. –û–ø—É–±–ª–∏–∫—É–π –ø–æ—Å—Ç —Å –Ω–∞—à–µ–≥–æ —Å—Ç–µ–Ω–¥–∞ –≤ –ª—é–±–æ–π —Å–æ—Ü.—Å–µ—Ç–∏ —Å —Ö–µ—à—Ç–µ–≥–æ–º #testittms\n'\
                        '5.–û—Ç–º–µ—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–∞–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–ù–æ–≤–æ—Å—Ç–∏ –æ '\
                        '–ø—Ä–æ–¥—É–∫—Ç–∞—Ö¬ª)'

    elif user_lvl1 == 3:
        text_answer = '–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —á–µ—Ç–≤–µ—Ä—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —É—Å–ª–æ–≤–∏—è:\n\n' \
                  '1.–í—Å—Ç—É–ø–∏ –≤ Telegram-–∫–∞–Ω–∞–ª—ã Test IT –∏ TeamStorm –∏ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ –Ω–∏—Ö (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ' \
                  '¬´–í—Å—Ç—É–ø–∏—Ç—å –≤ –≥—Ä—É–ø–ø—ã¬ª)\n' \
                  '2.–ü–æ–∑–Ω–∞–∫–æ–º—å—Å—è –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ –Ω–µ –º–µ–Ω–µ–µ 60 –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤\n' \
                  '3.–ü—Ä–æ–π–¥–∏ –Ω–∞—à –∫–≤–∏–∑ (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–ö–≤–∏–∑¬ª)\n' \
                  '4.–û–ø—É–±–ª–∏–∫—É–π –ø–æ—Å—Ç —Å –Ω–∞—à–µ–≥–æ —Å—Ç–µ–Ω–¥–∞ –≤ –ª—é–±–æ–π —Å–æ—Ü.—Å–µ—Ç–∏ —Å —Ö–µ—à—Ç–µ–≥–æ–º #testittms\n' \
                  '5.–û—Å—Ç–∞–≤—å –æ—Ç–∑—ã–≤ –æ —Ä–∞–±–æ—Ç–µ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤¬ª)\n' \
                  '6.–û—Ç–º–µ—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –æ –∫–∞–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö —Ç–µ–±–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã (–∫–Ω–æ–ø–∫–∞ –≤ –º–µ–Ω—é ¬´–ù–æ–≤–æ—Å—Ç–∏ –æ ' \
                  '–ø—Ä–æ–¥—É–∫—Ç–∞—Ö¬ª)'
    else:
        text_answer = '–¢—ã –¥–æ—Å—Ç–∏–≥ —Å–∞–º–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ —É—Ä–æ–≤–Ω—è!'

    if lvl == 0:
        await message.answer('–¢—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –Ω–∞ –Ω—É–ª–µ–≤–æ–º —É—Ä–æ–≤–Ω–µ, —Å–ª–µ–¥—É–π –ø—Ä–∞–≤–∏–ª–∞–º –∏ —Ç—ã –ø–æ–≤—ã—Å–∏—à—å —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å!')
        await message.answer(text_answer)
    else:
        if in_test_it1 == 1 and friends_count1 >= 2 and user_lvl1 == 0:
            await db.lvl_up_user(message.from_user.id)
            await message.answer('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!')
            await message.answer(text_answer)

        if in_test_it1 == 1 and in_teamstorm1 == 1 and friends_count1 >= 4 and user_lvl1 == 1:
            await db.lvl_up_user(message.from_user.id)
            await message.answer('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!')
            await message.answer(text_answer)

        if in_test_it1 == 1 and in_teamstorm1 == 1 and friends_count1 >= 6 and user_lvl1 == 2 and quiz_status1 == 1 and post_path1 and email1:
            await db.lvl_up_user(message.from_user.id)
            await message.answer('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!')
            await message.answer(text_answer)

        if in_test_it1 == 1 and in_teamstorm1 == 1 and friends_count1 >= 8 and user_lvl1 == 3 and quiz_status1 == 1 and post_path1 and review1:
            await db.lvl_up_user(message.from_user.id)
            await message.answer('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!')
            await message.answer(text_answer)

        photo = FSInputFile(f'data/users_lvl_presets/{lvl}_level.jpg')

        await message.answer_photo(photo=photo, caption=text_answer)

        if user_lvl1 == 3:
            await message.answer(
                text='–í—Å–µ—Ö, –∫—Ç–æ –ø—Ä–æ–∫–∞—á–∏–≤–∞–ª —É—Ä–æ–≤–Ω–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è, –∂–¥–µ–º –Ω–∞ —Å—Ç–µ–Ω–¥–µ Test IT'
                     ' –≤ 17:00 –¥–ª—è —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –ø—Ä–∏–∑–æ–≤!\n'
                     '–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –±—É–¥—É—Ç –≤—ã–±—Ä–∞–Ω—ã —Å–ª—É—á–∞–π–Ω—ã–π –æ–±—Ä–∞–∑–æ–º. –ß—Ç–æ–±—ã –Ω–µ'
                     ' —É–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ–π —à–∞–Ω—Å –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑ ‚Äî  —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!\n\n'
                     '–°–±–æ—Ä –≤ 16:55 ‚è∞'
            )

        # ____----____----____----____----____----____----____----____----____----

        # ____----____----____----____----____----____----____----____----____----
